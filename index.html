<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ense√±a Ingl√©s para Mam√° ‚Äî 200 lecciones</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#60a5fa;--muted:#94a3b8;--glass: rgba(255,255,255,0.04)}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:#e6eef8;background:linear-gradient(180deg,#071022 0%,#081229 60%);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}
    .app{width:100%;max-width:1100px}
    header{display:flex;gap:16px;align-items:center;margin-bottom:18px}
    .logo{width:68px;height:68px;background:linear-gradient(135deg,var(--accent),#2563eb);border-radius:14px;display:flex;align-items:center;justify-content:center;font-weight:700;color:white;font-size:22px;box-shadow:0 6px 20px rgba(8,15,30,0.6)}
    h1{margin:0;font-size:20px}
    p.lead{margin:0;color:var(--muted);font-size:14px}
    .main{display:grid;grid-template-columns:360px 1fr;gap:20px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;padding:16px;box-shadow:0 6px 18px rgba(3,6,12,0.6);border:1px solid rgba(255,255,255,0.03)}
    .lessons{display:flex;flex-direction:column;gap:8px;max-height:62vh;overflow:auto;padding-right:6px}
    .lesson{padding:10px;border-radius:10px;cursor:pointer;transition:all .12s ease;background:var(--glass);border:1px solid transparent}
    .lesson:hover{transform:translateY(-3px);box-shadow:0 8px 18px rgba(2,6,23,0.6)}
    .lesson.active{background:linear-gradient(90deg,#06233d44,#081229);border:1px solid rgba(96,165,250,0.14)}
    .controls{display:flex;gap:8px;align-items:center;margin-bottom:12px}
    button.btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:10px;color:inherit;cursor:pointer}
    button.primary{background:linear-gradient(90deg,var(--accent),#2563eb);border:none;color:white}
    .phrase-box{padding:14px;border-radius:12px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);display:flex;flex-direction:column;gap:8px}
    .phrase{font-size:20px;font-weight:700}
    .translation{color:var(--muted)}
    .conversation{margin-top:12px;display:flex;flex-direction:column;gap:8px;max-height:28vh;overflow:auto}
    .bubble{padding:10px 12px;border-radius:10px;max-width:85%;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.02)}
    .who{font-weight:700;color:var(--accent);font-size:13px;margin-bottom:6px}
    .row{display:flex;gap:10px;align-items:center}
    label{font-size:13px;color:var(--muted)}
    input[type=range]{width:160px}
    .rec{margin-top:8px;background:rgba(0,0,0,0.2);padding:10px;border-radius:8px;color:#dff3ff;border:1px dashed rgba(96,165,250,0.12)}
    .score{font-size:14px;font-weight:700;color:#9ae6b4}
    @media (max-width:920px){.main{grid-template-columns:1fr;}.logo{width:56px;height:56px}}
    .pulse{animation:pulse 1.6s infinite}
    @keyframes pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.02);opacity:0.9}100%{transform:scale(1);opacity:1}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="logo">EN</div>
      <div>
        <h1>Ense√±a Ingl√©s para Mam√° ‚Äî 200 lecciones</h1>
        <p class="lead">Interfaz en espa√±ol ‚Äî 200 lecciones generadas autom√°ticamente: conversaciones, vocabulario, gram√°tica y pr√°ctica de pronunciaci√≥n.</p>
      </div>
    </header>

    <div class="main">
      <aside class="card" style="height:fit-content;">
        <h3>Lecciones</h3>
        <div class="lessons" id="lessonsList"></div>
        <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">
        <div>
          <label style="font-size:13px;color:var(--muted)">Velocidad de lectura</label>
          <div class="row" style="margin-top:8px;">
            <input id="rate" type="range" min="0.6" max="1.6" step="0.1" value="0.92">
            <span id="rateVal">0.92x</span>
          </div>
          <label style="font-size:13px;color:var(--muted);margin-top:8px;display:block">Tono</label>
          <div class="row" style="margin-top:8px;">
            <input id="pitch" type="range" min="0.6" max="1.6" step="0.1" value="1">
            <span id="pitchVal">1.0</span>
          </div>
        </div>
      </aside>

      <section class="card">
        <div class="controls">
          <button class="btn" id="prev">‚óÄ Anterior</button>
          <button class="btn" id="next">Siguiente ‚ñ∂</button>
          <div style="flex:1"></div>
          <button class="btn" id="playAll">‚ñ∂ Reproducir frase</button>
          <button class="btn" id="speakExample">üé≠ Escuchar conversaci√≥n</button>
        </div>

        <div class="phrase-box" id="phraseBox">
          <div class="phrase" id="phraseEN">‚Äì</div>
          <div class="translation" id="phraseES">‚Äì</div>

          <div class="row" style="margin-top:6px;">
            <button class="btn primary" id="play">Escuchar</button>
            <button class="btn" id="record">üé§ Grabar mi voz</button>
            <button class="btn" id="check">üîé Comprobar</button>
            <div style="flex:1"></div>
            <div class="score" id="score">Puntuaci√≥n: ‚Äî</div>
          </div>

          <div class="rec" id="recResult" style="display:none;margin-top:8px"></div>
        </div>

        <div style="margin-top:14px">
          <h4>Conversaci√≥n de ejemplo</h4>
          <div class="conversation" id="conversation"></div>
        </div>

        <div style="margin-top:14px">
          <h4>Consejos r√°pidos (en espa√±ol)</h4>
          <ul style="color:var(--muted);line-height:1.6">
            <li>Escucha la frase primero y rep√≠tela en voz alta.</li>
            <li>Graba tu voz y usa "Comprobar" para recibir retroalimentaci√≥n sencilla.</li>
            <li>Practica pausas y entonaci√≥n ‚Äî ayudan m√°s que velocidad.</li>
          </ul>
        </div>

        <div style="margin-top:12px;color:var(--muted);font-size:13px">
          <strong>Nota:</strong> para comprobar pronunciaci√≥n se utiliza la API de reconocimiento de voz del navegador (Web Speech). Algunos navegadores pueden requerir permisos o no soportarlo.
        </div>
      </section>
    </div>
  </div>

  <script>
    // Generador autom√°tico de 200 lecciones abarcando varias categor√≠as.
    // Categor√≠as incluidas: conversaciones diarias, viaje, gram√°tica, vocabulario por tema, pronunciaci√≥n/comunes errores.

    const categories = [
      { key: 'daily', name: 'Conversaciones diarias', templates: [
        {title: 'Saludos y presentaciones', phrases:[['Hello!','¬°Hola!'],['How are you?','¬øC√≥mo est√°?'],['I am fine, thank you.','Estoy bien, gracias.']]},
        {title: 'En la tienda', phrases:[['How much is this?','¬øCu√°nto cuesta esto?'],['I would like to buy this.','Me gustar√≠a comprar esto.']]},
        {title: 'En el doctor', phrases:[['I have a headache.','Tengo dolor de cabeza.'],['Do you have any medicine?','¬øTiene alguna medicina?']]}
      ]},
      { key: 'travel', name: 'Ingl√©s de viaje', templates: [
        {title: 'En el aeropuerto', phrases:[['Where is the check-in?','¬øD√≥nde est√° el check-in?'],['I have a reservation.','Tengo una reserva.']]},
        {title: 'En el hotel', phrases:[['I have a booking under the name...', 'Tengo una reserva a nombre de...'],['Could I have a wake-up call?','¬øPodr√≠a programar una llamada de despertador?']]},
        {title: 'Transporte', phrases:[['How do I get to the city center?','¬øC√≥mo llego al centro de la ciudad?'],['One ticket to..., please.','Un billete a..., por favor.']]}
      ]},
      { key: 'vocab', name: 'Vocabulario por temas', templates: [
        {title: 'Comida', list:['apple','bread','cheese','coffee','water']},
        {title: 'Ropa', list:['shirt','pants','dress','shoes','coat']},
        {title: 'Emociones', list:['happy','sad','angry','tired','surprised']}
      ]},
      { key: 'grammar', name: 'Gram√°tica b√°sica', templates: [
        {title: 'Presente simple', explain:'I/You/We/They + base verb (I eat). He/She + verb+s (She eats).', examples:[['I eat breakfast.','Yo desayuno.'],['She works every day.','Ella trabaja todos los d√≠as.']]},
        {title: 'Presente continuo', explain:'Am/Is/Are + verb+ing (I am eating).', examples:[['I am studying now.','Estoy estudiando ahora.']]},
        {title: 'Pasado simple', explain:'Verb + ed (regular) or irregular forms (went).', examples:[['I went to the store yesterday.','Fui a la tienda ayer.']]}
      ]},
      { key: 'pron', name: 'Pronunciaci√≥n y errores comunes', templates: [
        {title:'Sonidos problem√°ticos para hispanohablantes', phrases:[['Ship vs Sheep','/ É…™p/ vs / ÉiÀêp/ - diferencia en la vocal'],['Beach vs Bitch','/biÀêt É/ vs /b…™t É/ - atenci√≥n al sonido /iÀê/']]},
        {title:'T y D finales', phrases:[['cats (pronounced /s/)','Las s finales pueden sonar como /s/'],['played (pronounced /d/)','Jugado ‚Äî la d se pronuncia']]} 
      ]}
    ];

    // Vamos a construir 200 lecciones combinando plantillas y generadores.
    const LESSONS = [];
    let idCounter = 1;

    // helper: capitalize
    const cap = s => s.charAt(0).toUpperCase()+s.slice(1);

    // 1) A√±adir plantillas directas de categor√≠as (cada una genera varias lecciones)
    categories.forEach(cat=>{
      cat.templates.forEach(tpl=>{
        if(tpl.phrases){
          // crear una lecci√≥n por cada frase (o agrupar algunas)
          tpl.phrases.forEach((p, idx)=>{
            LESSONS.push({
              id: idCounter++,
              title: `${cat.name} ‚Äî ${tpl.title} ${idx+1}`,
              description: tpl.title,
              phrases: [{en:p[0], es:p[1]}],
              conversation: [ {who:'A', en:p[0], es:p[1]} ]
            });
          });
        } else if(tpl.list){
          // generar lecciones de vocabulario por 5 palabras por lecci√≥n
          const words = tpl.list;
          words.forEach((w,i)=>{
            LESSONS.push({
              id: idCounter++,
              title: `${cat.name} ‚Äî ${tpl.title}: ${cap(w)}`,
              description: `Vocabulario: ${tpl.title}`,
              phrases: [{en:w, es: w}],
              conversation: [ {who:'Tutor', en:`This is a ${w}.`, es:`Esto es un(a) ${w}.`} ]
            });
          });
        } else if(tpl.examples || tpl.explain){
          // lecci√≥n de gram√°tica
          const phrases = (tpl.examples||[]).map(e=>({en:e[0], es:e[1]}));
          LESSONS.push({
            id: idCounter++,
            title: `${cat.name} ‚Äî ${tpl.title}`,
            description: tpl.explain || tpl.title,
            phrases: phrases.length? phrases : [{en:tpl.title, es:''}],
            conversation: phrases.length? phrases.map((p,i)=>({who:i%2? 'B':'A', en:p.en, es:p.es})) : [{who:'Tutor', en:tpl.title, es:''}]
          });
        }
      });
    });

    // 2) Generar lecciones de uso diario y frases √∫tiles hasta alcanzar 200
    const usefulPhrases = [
      ['Excuse me, where is the bathroom?','Perd√≥n, ¬ød√≥nde est√° el ba√±o?'],
      ['Could you repeat that, please?','¬øPuede repetirlo, por favor?'],
      ['I do not understand.','No entiendo.'],
      ['Can you help me?','¬øPuede ayudarme?'],
      ['I am learning English.','Estoy aprendiendo ingl√©s.'],
      ['What time is it?','¬øQu√© hora es?'],
      ['I would like the bill, please.','Quisiera la cuenta, por favor.'],
      ['Do you speak Spanish?','¬øHabla espa√±ol?'],
      ['I need a doctor.','Necesito un m√©dico.'],
      ['Call the police!','¬°Llame a la polic√≠a!']
    ];

    usefulPhrases.forEach(p=>{
      LESSONS.push({id:idCounter++, title:`Frases √∫tiles ‚Äî ${p[0].slice(0,18)}...`, description:'Frases para situaciones reales', phrases:[{en:p[0], es:p[1]}], conversation:[{who:'A', en:p[0], es:p[1]}]});
    });

    // 3) Generar variaciones simples de frases (por ejemplo: pedir en un caf√© con variables)
    const drinks = ['coffee','tea','water','juice','milk'];
    drinks.forEach(d=>{
      LESSONS.push({id:idCounter++, title:`En el caf√© ‚Äî Pedir ${d}`, description:'Pedir bebidas', phrases:[{en:`Can I have a ${d}, please?`, es:`¬øPuedo tomar un ${d}, por favor?`}], conversation:[{who:'Cliente', en:`Can I have a ${d}, please?`, es:`¬øPuedo tomar un ${d}, por favor?`},{who:'Barista', en:'Of course. Anything else?', es:'Claro. ¬øAlgo m√°s?'}]});
    });

    // 4) Vocabulario por tema amplio (crear listas largas)
    const vocabThemes = {
      'Food': ['bread','meat','rice','potato','vegetables','fruit','soup','salad','sugar','salt'],
      'Clothes': ['hat','sock','skirt','tie','jacket','sweater','shorts','belt','gloves','scarf'],
      'Home': ['table','chair','bed','window','door','kitchen','bathroom','living room','garden','roof']
    };
    Object.keys(vocabThemes).forEach(theme=>{
      vocabThemes[theme].forEach(w=>{
        LESSONS.push({id:idCounter++, title:`Vocabulario ‚Äî ${theme}: ${cap(w)}`, description:`Palabra: ${w}`, phrases:[{en:w, es:w}], conversation:[{who:'Tutor', en:`This is a ${w}.`, es:`Esto es un(a) ${w}.`} ]});
      });
    });

    // 5) Gram√°tica y mini-ejercicios: generar frases con cambios de sujeto/tiempo
    const baseVerbs = ['eat','go','buy','see','like'];
    baseVerbs.forEach(v=>{
      LESSONS.push({id:idCounter++, title:`Gram√°tica ‚Äî Verbo ${v}`, description:`Practica con el verbo ${v}`, phrases:[{en:`I ${v} every day.`, es:`Yo ${v} todos los d√≠as.`},{en:`She ${v}s every day.`, es:`Ella ${v} todos los d√≠as.`}], conversation:[{who:'A', en:`I ${v} every day.`, es:`Yo ${v} todos los d√≠as.`}]});
    });

    // 6) Pronunciaci√≥n: pares m√≠nimos y consejos
    const pronPairs = [['ship','sheep'],['live','leave'],['pull','pool'],['bet','bat']];
    pronPairs.forEach(p=>{
      LESSONS.push({id:idCounter++, title:`Pronunciaci√≥n ‚Äî ${p[0]} vs ${p[1]}`, description:'Pares m√≠nimos para entrenar la pronunciaci√≥n', phrases:[{en:p[0], es:p[0]},{en:p[1], es:p[1]}], conversation:[{who:'Tutor', en:`Listen: ${p[0]}, ${p[1]}`, es:`Escucha: ${p[0]}, ${p[1]}`}]});
    });

    // 7) A√±adir hasta 200 con frases generadas autom√°ticamente (si a√∫n faltan)
    const fillerPhrases = [
      ['What is your name?','¬øC√≥mo te llamas?'],['Where are you from?','¬øDe d√≥nde eres?'],['I am from Chile.','Soy de Chile.'],['Do you like music?','¬øTe gusta la m√∫sica?'],['I need help.','Necesito ayuda.']
    ];
    let fi = 0;
    while(LESSONS.length < 200){
      const p = fillerPhrases[fi % fillerPhrases.length];
      LESSONS.push({id:idCounter++, title:`Extra ‚Äî ${p[0].slice(0,18)}...`, description:'Frases extra para pr√°ctica', phrases:[{en:p[0], es:p[1]}], conversation:[{who:'A', en:p[0], es:p[1]}]});
      fi++;
    }

    // Limitar a exactamente 200 por si excedimos
    const FINAL_LESSONS = LESSONS.slice(0,200);

    // --- UI logic (similar a la versi√≥n anterior) ---
    let lessonIndex = 0;
    let phraseIndex = 0;

    const lessonsList = document.getElementById('lessonsList');
    const phraseEN = document.getElementById('phraseEN');
    const phraseES = document.getElementById('phraseES');
    const conversationBox = document.getElementById('conversation');
    const playBtn = document.getElementById('play');
    const playAllBtn = document.getElementById('playAll');
    const speakExampleBtn = document.getElementById('speakExample');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const recordBtn = document.getElementById('record');
    const checkBtn = document.getElementById('check');
    const recResult = document.getElementById('recResult');
    const scoreEl = document.getElementById('score');
    const rateInput = document.getElementById('rate');
    const pitchInput = document.getElementById('pitch');
    const rateVal = document.getElementById('rateVal');
    const pitchVal = document.getElementById('pitchVal');

    function renderLessons(){
      lessonsList.innerHTML = '';
      FINAL_LESSONS.forEach((l, i)=>{
        const el = document.createElement('div');
        el.className = 'lesson' + (i===lessonIndex? ' active':'');
        el.innerHTML = `<strong>${i+1}. ${l.title}</strong><div style="font-size:12px;color:var(--muted)">${l.description}</div>`;
        el.onclick = ()=>{lessonIndex = i; phraseIndex = 0; render(); window.scrollTo({top:0,behavior:'smooth'});};
        lessonsList.appendChild(el);
      });
    }

    function render(){
      renderLessons();
      const lesson = FINAL_LESSONS[lessonIndex];
      const phrase = lesson.phrases[phraseIndex] || lesson.phrases[0];
      phraseEN.textContent = phrase.en;
      phraseES.textContent = phrase.es || '';
      renderConversation(lesson.conversation);
      scoreEl.textContent = 'Puntuaci√≥n: ‚Äî';
      recResult.style.display='none';
    }

    function renderConversation(conv){
      conversationBox.innerHTML = '';
      (conv||[]).forEach(m=>{
        const b = document.createElement('div');
        b.className = 'bubble';
        b.innerHTML = `<div class="who">${m.who}</div><div style="font-weight:600">${m.en}</div><div class="translation">${m.es||''}</div>`;
        conversationBox.appendChild(b);
      });
    }

    function speak(text, opts={rate:parseFloat(rateInput.value), pitch:parseFloat(pitchInput.value)}){
      if(!('speechSynthesis' in window)) { alert('Su navegador no soporta s√≠ntesis de voz. Use Chrome o Edge.'); return; }
      window.speechSynthesis.cancel();
      const ut = new SpeechSynthesisUtterance(text);
      const voices = window.speechSynthesis.getVoices();
      let v = voices.find(x=>/en-|English/i.test(x.lang || x.name));
      if(!v && voices.length) v = voices[0];
      if(v) ut.voice = v;
      ut.rate = opts.rate || 0.92;
      ut.pitch = opts.pitch || 1;
      window.speechSynthesis.speak(ut);
    }

    playBtn.onclick = ()=>{ speak(FINAL_LESSONS[lessonIndex].phrases[phraseIndex].en); };
    playAllBtn.onclick = ()=>{ speak(FINAL_LESSONS[lessonIndex].phrases[phraseIndex].en); };

    speakExampleBtn.onclick = async ()=>{
      const conv = FINAL_LESSONS[lessonIndex].conversation || [];
      for(const line of conv){
        const bubble = document.createElement('div'); bubble.className='bubble pulse'; bubble.innerHTML = `<div class=\"who\">${line.who}</div><div style=\"font-weight:600\">${line.en}</div><div class=\"translation\">${line.es||''}</div>`;
        conversationBox.appendChild(bubble);
        speak(line.en);
        await new Promise(r => setTimeout(r, Math.max(900, line.en.length*60)));
        conversationBox.removeChild(bubble);
      }
      renderConversation(FINAL_LESSONS[lessonIndex].conversation);
    }

    prevBtn.onclick = ()=>{ phraseIndex = Math.max(0, phraseIndex-1); render(); };
    nextBtn.onclick = ()=>{ const max = FINAL_LESSONS[lessonIndex].phrases.length-1; phraseIndex = Math.min(max, phraseIndex+1); render(); };
    rateInput.oninput = ()=>{ rateVal.textContent = rateInput.value + 'x'; };
    pitchInput.oninput = ()=>{ pitchVal.textContent = pitchInput.value; };

    let recognition = null;
    let isRecording = false;
    function initRecognition(){
      const SR = window.SpeechRecognition || window.webkitSpeechRecognition || null;
      if(!SR) return null;
      const r = new SR();
      r.lang = 'en-US';
      r.interimResults = false;
      r.maxAlternatives = 1;
      r.onresult = (e)=>{
        const text = e.results[0][0].transcript;
        recResult.style.display='block';
        recResult.innerHTML = `<strong>Tu transcripci√≥n:</strong> <div style=\"margin-top:6px\">\"${text}\"</div>`;
        const target = FINAL_LESSONS[lessonIndex].phrases[phraseIndex].en.toLowerCase().replace(/[!?.]/g,'');
        const clean = txt=> txt.toLowerCase().replace(/[!?.]/g,'');
        const tWords = target.split(/\\s+/);
        const sWords = clean(text).split(/\\s+/);
        let matches = 0;
        tWords.forEach((w, i)=>{ if(sWords[i] && sWords[i].startsWith(w.slice(0,3))) matches++; });
        const score = Math.round((matches / tWords.length) * 100);
        scoreEl.textContent = 'Puntuaci√≥n: ' + score + '%';
      };
      r.onerror = (ev)=>{
        recResult.style.display='block';
        recResult.textContent = 'Error de reconocimiento: ' + (ev.error || ev.message || 'desconocido');
      };
      r.onend = ()=>{ isRecording = false; recordBtn.textContent = 'üé§ Grabar mi voz'; recordBtn.classList.remove('primary'); };
      return r;
    }

    recordBtn.onclick = ()=>{
      if(!recognition) { recognition = initRecognition(); if(!recognition){ alert('El reconocimiento de voz no est√° disponible en su navegador. Pruebe Chrome o Edge en escritorio.'); return;} }
      if(isRecording){ recognition.stop(); isRecording=false; recordBtn.textContent='üé§ Grabar mi voz'; recordBtn.classList.remove('primary'); }
      else{ try{ recognition.start(); isRecording=true; recordBtn.textContent='‚èπÔ∏è Detener'; recordBtn.classList.add('primary'); recResult.style.display='block'; recResult.textContent='Escuchando...'; }catch(e){ recResult.style.display='block'; recResult.textContent='No se pudo iniciar el micr√≥fono: '+e.message; }}
    };

    checkBtn.onclick = ()=>{
      if(recResult.style.display !== 'none' && recResult.innerText.includes('Tu transcripci√≥n:')){
        const t = recResult.innerText.split('"')[1] || '';
        if(!t) { alert('No hay transcripci√≥n para comprobar. Grabe su voz primero.'); return; }
        const target = FINAL_LESSONS[lessonIndex].phrases[phraseIndex].en.toLowerCase().replace(/[!?.]/g,'');
        const clean = txt=> txt.toLowerCase().replace(/[!?.]/g,'');
        const tWords = target.split(/\\s+/);
        const sWords = clean(t).split(/\\s+/);
        let matches = 0;
        tWords.forEach((w, i)=>{ if(sWords[i] && sWords[i].startsWith(w.slice(0,3))) matches++; });
        const score = Math.round((matches / tWords.length) * 100);
        scoreEl.textContent = 'Puntuaci√≥n: ' + score + '%';
        recResult.innerHTML += `<div style=\"margin-top:6px;color:var(--muted)\">Comparaci\u00f3n autom\u00e1tica sencilla realizada.</div>`;
      } else {
        alert('Grabe su voz primero (bot√≥n üé§) y luego pulse "Comprobar".');
      }
    };

    window.onload = ()=>{
      if('speechSynthesis' in window){ window.speechSynthesis.onvoiceschanged = ()=>{}; }
      render();
    };

    phraseEN.onclick = ()=> playBtn.click();
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'ArrowRight') nextBtn.click();
      if(e.key === 'ArrowLeft') prevBtn.click();
      if(e.key.toLowerCase() === 'r') recordBtn.click();
      if(e.key.toLowerCase() === 'p') playBtn.click();
    });

  </script>
</body>
</html>
